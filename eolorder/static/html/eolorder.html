<div class="problem eol-order-block" id="order_{{ location }}" data-image-path="{{ image_path }}">
    {% if is_team or is_studio %}
    <div class="weight-info">
        <span class="weight-label">Peso de la pregunta:</span>
        <span class="weight-value">{{ weight }}</span>
    </div>
    {% endif %}
    {% if show_correctness != 'never' or indicator_class == 'unanswered' %}
    <div class="status {{ indicator_class }}" id="status_{{ location }}" data-score="{{ score }}" data-order-type="{{ numbering_type }}" data-pretext-num="{{ pretext_num }}" data-posttext-num="{{ postext_num }}" data-textcolumn-order="{{ textcolumn_order }}" data-textcolumn-content="{{ textcolumn_content }}" data-textcolumn-actions="{{ textcolumn_actions }}">
    {% else %}
    <div class="status" id="status_{{ location }}" data-score="{{ score }}" data-order-type="{{ numbering_type }}" data-pretext-num="{{ pretext_num }}" data-posttext-num="{{ postext_num }}" data-textcolumn-order="{{ textcolumn_order }}" data-textcolumn-content="{{ textcolumn_content }}" data-textcolumn-actions="{{ textcolumn_actions }}">
    {% endif %}
        <div class="eol-order-table">
            <table class="eol-order-table-content">
                <thead>
                    {% if table_name != "" %}
                    <tr>
                        <th class="order-header" style="background-color: {{ background_color }}; text-align: center;" colspan="3">{{ table_name }}</th>
                    </tr>
                    {% endif %}
                    <tr>
                        <th class="order-header" style="background-color: {{ background_color }}; text-align: center; width: 15%;" pretext="{{ pretext_num }}" postext="{{ postext_num }}" ordertype="{{ numbering_type }}">
                            <span class="column-title">{{ textcolumn_order }}</span>
                        </th>
                        <th class="content-header" style="background-color: {{ background_color }}; text-align: center;">
                            <span class="column-title">{{ textcolumn_content }}</span>
                        </th>
                        <th class="actions-header" style="background-color: {{ background_color }}; text-align: center; width: 15%;">
                            <span class="column-title">{{ textcolumn_actions }}</span>
                        </th>
                    </tr>
                </thead>
                <tbody class="items-container">
                    {% for item in elements %}
                    <tr class="item-row" data-index="{{ item.key }}">
                        <td class="order-cell">
                            {% if numbering_type == 'numbers' %}
                                {{ pretext_num }}{{ item.position }}{{ postext_num }}
                            {% elif numbering_type == 'numbers_zero' %}
                                {{ pretext_num }}{{ item.zero_index }}{{ postext_num }}
                            {% elif numbering_type == 'letters' %}
                                {% if uppercase_letters %}
                                    {{ pretext_num }}{{ item.letter_upper }}{{ postext_num }}
                                {% else %}
                                    {{ pretext_num }}{{ item.letter_lower }}{{ postext_num }}
                                {% endif %}
                            {% elif numbering_type == 'roman' %}
                                {% if uppercase_letters %}
                                    {{ pretext_num }}{{ item.roman_upper }}{{ postext_num }}
                                {% else %}
                                    {{ pretext_num }}{{ item.roman_lower }}{{ postext_num }}
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="content-cell">{{ item.content|safe }}</td>
                        <td class="actions-cell" style="text-align: center;">
                            <button class="move-up-button">↑</button>
                            <button class="move-down-button">↓</button>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <solution style="display: none;">
        <p>RESPUESTA</p>
    </solution>
    <div class="submit-box">
        <div class="action">
            <button class="eol-order-submit Submit submit" {% if no_mas_intentos %}disabled{% else %} style="background-color: #dc0000 !important; color: white;" {% endif %}>Enviar</button>
            <span id="submission_feedback_{{ location }}" class="submission-feedback">
                {% if max_attempts > 0 %}
                    {{ texto_intentos }}
                {% endif %}
            </span>
            <span class="notificacion">
                {% if show_correctness != 'never' %}
                    {% if attempts > 0 %}
                        {% if score >= 1 %}
                            <img src="/static/images/correct-icon.png" alt="Respuesta Correcta" class="status-icon"/>
                        {% else %}
                            <img src="/static/images/incorrect-icon.png" alt="Respuesta Incorrecta" class="status-icon"/>
                            {% if show_answer == "when_attempts_run_out" and no_mas_intentos %}
                                <button class="ver_respuesta" data-checking="Cargando..." data-value="Ver Respuesta">
                                    <span class="icon fa fa-info-circle" aria-hidden="true"></span><br>
                                    <span>Mostrar<br>Respuesta</span>
                                </button>
                            {% endif %}
                        {% endif %}
                    {% endif %}
                {% endif %}
            </span>
        </div>
    </div>
</div> 