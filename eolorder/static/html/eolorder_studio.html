{% load i18n %}
<div class="editor-with-buttons">
    <div class="wrapper-comp-settings is-active editor-with-buttons" id="settings-tab">
        <ul class="list-input settings-list">
            <li class="field comp-setting-entry is-set">
                <div class="wrapper-comp-setting">
                    <label class="label setting-label" for="table_name">{{table_name.display_name}}</label>
                    <span class="tip setting-help">{{table_name.help}}</span>
                    <input class="input setting-input" name="table_name" id="table_name" value="{{table_name.value}}"
                        type="text" />
                </div>
            </li>
            <li class="field comp-setting-entry is-set">
                <div class="wrapper-comp-setting">
                    <label class="label setting-label" for="background_color">{{background_color.display_name}}</label>
                    <span class="tip setting-help">{{background_color.help}}</span>
                    <input class="input setting-input" name="background_color" id="background_color"
                        value="{{background_color.value}}" />
                </div>
            </li>
            <li class="field comp-setting-entry is-set">
                <div class="wrapper-comp-setting">
                    <label class="label setting-label" for="numbering_type">{{numbering_type.display_name}}</label>
                    <span class="tip setting-help">{{numbering_type.help}}</span>
                    <select class="input setting-input" name="numbering_type" id="numbering_type">
                        <option value="numbers" ${'selected' if numbering_type.value=='numbers' else '' }>1, 2, 3...
                        </option>
                        <option value="numbers_zero" ${'selected' if numbering_type.value=='numbers_zero' else '' }>0,
                            1, 2...
                        </option>
                        <option value="letters" ${'selected' if numbering_type.value=='letters' else '' }>a, b, c...
                        </option>
                        <option value="roman" ${'selected' if numbering_type.value=='roman' else '' }>i, ii, iii...
                        </option>
                        <option value="none" ${'selected' if numbering_type.value=='none' else '' }>No crear</option>
                    </select>
                </div>
            </li>
            <li class="field comp-setting-entry is-set">
                <div class="wrapper-comp-setting">
                    <label class="label setting-label"
                        for="uppercase_letters">{{uppercase_letters.display_name}}</label>
                    <span class="tip setting-help">{{uppercase_letters.help}}</span>
                    <input class="input setting-input" name="uppercase_letters" id="uppercase_letters" type="checkbox"
                        ${'checked' if uppercase_letters.value else '' } />
                </div>
            </li>
            <li>
                <div class="table-rows-container">
                    <h3>{{ordeingelements.display_name}}</h3>
                    <span class="tip setting-help">{{ordeingelements.help}}</span>
                    <div class="table-rows">
                        {% for key, value in ordeingelements.value.items %}
                        <div class="table-row" data-row-id="{{key}}">
                            <div class="row-content">
                                <p>Label: {{key}}</divp>
                            </div>
                            <div class="row-content">
                                <textarea class="row-content-input" placeholder="Contenido de la fila (HTML permitido)"
                                    name="content">{{value.content}}</textarea>
                            </div>
                            <div class="row-actions">
                                <button class="remove-row">Eliminar</button>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    <button class="add-row-button">Agregar</button>
                </div>
            </li>
            <li class="field comp-setting-entry is-set">
                <div class="wrapper-comp-setting">
                    <label class="label setting-label" for="correct_answers">{{correct_answers.display_name}}</label>
                    <span class="tip setting-help">{{correct_answers.help}}</span>
                    <div class="correct-answers-container">
                        <div class="order-label">
                            <span>Orden actual: </span>
                            <input type="hidden" id="current-answers-value" value="{{correct_answers.value}}" />
                            <div class="order-display">{{correct_answers.value}}</div>
                        </div>
                        <div class="correct-answers-list">
                            {% for answer_list in correct_answers.value|split:"_[|]_" %}
                            <div class="correct-answers-group">
                                <div class="group-header">
                                    <button class="remove-group-button">Eliminar grupo</button>
                                </div>
                                <div class="group-content">
                                    {% for answer in answer_list|split:"_" %}
                                    <div class="correct-answer-item" draggable="true" data-value="{{answer}}">
                                        <button class="move-left-button" title="Mover izquierda"><</button>
                                        <span class="item-content">{{answer}}</span>
                                        <button class="move-right-button" title="Mover derecha">></button>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                        <button class="add-answer-button">Agregar respuesta</button>
                    </div>
                </div>
            </li>
            <li>
                <div class="eol-order-disorder">
                    <h3>{{disordered_order.display_name}}</h3>
                    <span class="tip setting-help">{{disordered_order.help}}</span>
                    <div class="disorder-preview" id="disorder-container">
                        <div class="order-label">
                            <span>Orden actual: </span>
                            <input type="hidden" id="current-disorder-value" value="{{disordered_order.value|join:'_'}}" />
                            <div class="order-display">{{disordered_order.value|join:"_"}}</div>
                        </div>
                        <div class="disordered-list">
                            {% for key in disordered_order.value %}
                            <div class="disorder-item" draggable="true" data-value="{{ key }}">
                                <button class="move-left-button" title="Mover izquierda">&lt;</button>
                                <span class="item-content">{{ key }}</span>
                                <button class="move-right-button" title="Mover derecha">&gt;</button>
                            </div>
                            {% endfor %}
                        </div>

                    </div>
                </div>
            </li>
            <li class="field comp-setting-entry is-set">
                <div class="wrapper-comp-setting">
                    <label class="label setting-label" for="random_disorder">{{random_disorder.display_name}}</label>
                    <span class="tip setting-help">{{random_disorder.help}}</span>
                    <input class="input setting-input" name="random_disorder" id="random_disorder" type="checkbox"
                        ${'checked' if random_disorder.value else '' } />
                </div>
            </li>
        </ul>
    </div>
    <div class="xblock-actions">
        <span class="xblock-editor-error-message"></span>
        <ul>
            <li class="action-item">
                <a href="#" class="button action-primary save-button">{% trans "Save" %}</a>
            </li>
            <li class="action-item">
                <a href="#" class="button cancel-button">{% trans "cancel" %}</a>
            </li>
        </ul>
    </div>
</div>