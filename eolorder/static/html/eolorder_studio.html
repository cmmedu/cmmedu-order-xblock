{% load i18n %}
<div class="eol-order-studio">
    <div class="wrapper-comp-settings is-active editor-with-buttons">
        <div class="xblock-input-settings">
            <div class="wrapper-message wrapper-message-error" style="display: none;">
                <span class="message-text"></span>
            </div>
            
            <div class="input-settings">
                <div class="field">
                    <label for="display_name">Nombre del componente</label>
                    <input type="text" id="display_name" value="{{ display_name }}">
                </div>
                
                <div class="field">
                    <label for="table_name">Nombre de la tabla</label>
                    <input type="text" id="table_name" value="{{ table_name }}">
                </div>
                
                <div class="field">
                    <label for="background_color">Color de fondo</label>
                    <input type="color" id="background_color" value="{{ background_color }}">
                </div>
                
                <div class="field">
                    <label for="numbering_type">Tipo de numeración</label>
                    <select id="numbering_type">
                        <option value="numbers" {% if numbering_type == 'numbers' %}selected{% endif %}>Números</option>
                        <option value="numbers_zero" {% if numbering_type == 'numbers_zero' %}selected{% endif %}>Números desde cero</option>
                        <option value="letters" {% if numbering_type == 'letters' %}selected{% endif %}>Letras</option>
                        <option value="roman" {% if numbering_type == 'roman' %}selected{% endif %}>Números romanos</option>
                        <option value="none" {% if numbering_type == 'none' %}selected{% endif %}>Ninguno</option>
                    </select>
                </div>
                
                <div class="field">
                    <label>
                        <input type="checkbox" id="uppercase_letters" {% if uppercase_letters %}checked{% endif %}>
                        Usar letras mayúsculas
                    </label>
                </div>

                <div class="field">
                    <label for="weight">Peso de la pregunta</label>
                    <input type="number" id="weight" min="0" step="0.1" value="{{ weight }}">
                </div>
            </div>
            
            <div class="order-settings">
                <h3>Configuración del orden</h3>
                <div class="field">
                    <label>
                        <input type="checkbox" id="random_order" {% if random_order %}checked{% endif %}>
                        Orden aleatorio
                    </label>
                </div>

                <div class="field" id="custom_disorder_field" {% if random_order %}style="display: none;"{% endif %}>
                    <label for="custom_disorder">Orden personalizado</label>
                    <textarea id="custom_disorder" rows="5" placeholder="Ingrese los índices separados por comas (ej: 2,1,3,4)">{% if custom_disorder %}{{ custom_disorder|join:',' }}{% endif %}</textarea>
                    <div class="help-text">
                        Ingrese los índices en el orden en que desea que aparezcan los elementos.<br>
                        Si está vacío, se usará el orden original.
                    </div>
                </div>
            </div>
            
            <div class="table-container">
                <h3>Elementos de la tabla</h3>
                <div class="items-container">
                    {% for key, item in ordeingelements.items %}
                    <div class="item-box" data-index="{{ key }}" draggable="true">
                        <div class="item-header">
                            <span class="item-number">{{ key }}</span>
                            <button class="delete-button">×</button>
                        </div>
                        <textarea class="item-content">{{ item.content }}</textarea>
                    </div>
                    {% endfor %}
                </div>
                <button class="add-item-button">Agregar elemento</button>
            </div>
        </div>
        
        <div class="xblock-actions">
            <button class="action-primary save-button">Guardar</button>
            <button class="action-secondary cancel-button">Cancelar</button>
        </div>
    </div>
</div>